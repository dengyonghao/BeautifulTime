//
//  CLMessageDefine.h
//  CarLife
//
//  Created by xubin luo on 14-10-13.
//  Copyright (c) 2014年 TJ. All rights reserved.
//

#ifndef CarLife_CLMessageDefine_h
#define CarLife_CLMessageDefine_h


#define COMMAND_MSGHEAD_LENGTH      8
#define VIDEO_MSGHEAD_LENGTH        12
#define AUDIO_MSGHEAD_LENGTH        12
#define SDK_MSGHEAD_LENGTH          12

// 2的14次幂
#define maxIndx         16384


#define Phone_Type_String @"iOS"

//
// Based on http://stackoverflow.com/a/202511
//

#pragma mark - Enum Factory Macros
// expansion macro for enum value definition
#define ENUM_VALUE(name,assign) name assign,

// expansion macro for enum to string conversion
#define ENUM_CASE(name,assign) case name: return @#name;

// expansion macro for string to enum conversion
#define ENUM_STRCMP(name,assign) if (![string isEqualToString:@#name]) return name;

/// declare the access function and define enum values
#define DECLARE_ENUM(EnumType,ENUM_DEF) \
typedef enum EnumType { \
ENUM_DEF(ENUM_VALUE) \
}EnumType; \
NSString *NSStringFrom##EnumType(EnumType value); \
EnumType EnumType##FromNSString(NSString *string); \

// Define Functions
#define DEFINE_ENUM(EnumType, ENUM_DEF) \
NSString *NSStringFrom##EnumType(EnumType value) \
{ \
switch(value) \
{ \
ENUM_DEF(ENUM_CASE) \
default: return @""; \
} \
} \
EnumType EnumType##FromNSString(NSString *string) \
{ \
ENUM_DEF(ENUM_STRCMP) \
return (EnumType)0; \
}

//消息类别
#define _EN_MsgCategory_Type(XX)  \
XX(EN_MsgCategory_Reserved, = 0x00) \
XX(EN_MsgCategory_Request, = 0x01)\
XX(EN_MsgCategory_Response, = 0x02)\
XX(EN_MsgCategory_Notification, = 0x03)
DECLARE_ENUM(EN_MsgCategory_Type, _EN_MsgCategory_Type)


//carlife message消息的开始标识
#define _EN_MsgDelimiter_Type(XX)  \
XX(EN_MsgDelimiter_CarToPhone, = 0x000000aa) \
XX(EN_MsgDelimiter_PhoneTOCar, = 0x000000bb)
DECLARE_ENUM(EN_Delimiter_Type, _EN_MsgDelimiter_Type)

//消息优先级
#define _EN_MsgPriority_Type(XX)  \
XX(EN_MsgPriority_Normal, = 1) \
XX(EN_MsgPriority_High, = 2) \
XX(EN_MsgPriority_Highest, = 3)
DECLARE_ENUM(EN_MsgPriority_Type, _EN_MsgPriority_Type)

//手机类型
#define _EN_MsgPhone_Type(XX)  \
XX(EN_MsgPhone_Default, = 0x01) \
XX(EN_MsgPhone_IOS, = 0x02) \
XX(EN_MsgPhone_Android, = 0x03)
DECLARE_ENUM(EN_MsgPhone_Type, _EN_MsgPhone_Type)

//车机类型
#define _EN_MsgCar_Type(XX)  \
XX(EN_MsgCar_Default, = 0x01) \
XX(EN_MsgCar_Linux, = 0x02) \
XX(EN_MsgCar_Qnx, = 0x03) \
XX(EN_MsgCar_Wince, = 0x04) \
XX(EN_msgCar_Android, = 0x03)
DECLARE_ENUM(EN_MsgCar_Type, _EN_MsgCar_Type)

typedef enum _EN_MsgCommon_Type
{
   
    /**
     * Carlife控制消息默认值
     */
    MSG_CMD_DEFAULT_VALUE = 0x00,
    
    /**
     * Carlife控制消息Data字段的最大长度为400k
     */
    MSG_CMD_MAX_DATA_LEN = 400 * 1024,
    
    /**
     * Carlife控制消息Head中各字段的长度
     */
    MSG_CMD_HEAD_SIZE_BYTE = 8,
    MSG_CMD_HEAD_SIZE_BIT = 8 * 8,
    MSG_CMD_HEAD_SIZE_LENGTH = 16,
    MSG_CMD_HEAD_SIZE_RESVERED = 16,
    MSG_CMD_HEAD_SIZE_SERVICE_TYPE = 32,
    
    /**
     * Carlife控制消息版本号
     */
    MSG_CMD_PROTOCOL_VERSION = 1001,
    PROTOCOL_VERSION_MAJOR_VERSION = 1,
    PROTOCOL_VERSION_MINOR_VERSION = 0,
    PROTOCOL_VERSION_MATCH = 1,
    PROTOCOL_VERSION_NOT_MATCH = 2,
    
}EN_MsgCommon_Type;

//硬按键消息
#define _EN_CLHardKeyCode_Type(XX)  \
XX(KEYCODE_HOME, = 0x00000001) \
XX(KEYCODE_PHONE_CALL, = 0x00000002) \
XX(KEYCODE_PHONE_END, = 0x00000003) \
XX(KEYCODE_PHONE_END_MUTE, = 0x00000004) \
XX(KEYCODE_HFP, = 0x00000005) \
XX(KEYCODE_SELECTOR_NEXT, = 0x00000006) \
XX(KEYCODE_SELECTOR_PREVIOUS, = 0x00000007) \
XX(KEYCODE_SETTING, = 0x00000008) \
XX(KEYCODE_MEDIA, = 0x00000009) \
XX(KEYCODE_RADIO, = 0x0000000A) \
XX(KEYCODE_NAVI, = 0x0000000B) \
XX(KEYCODE_SRC, = 0x0000000C) \
XX(KEYCODE_MODE, = 0x0000000D) \
XX(KEYCODE_BACK, = 0x0000000E) \
XX(KEYCODE_SEEK_SUB, = 0x0000000F) \
XX(KEYCODE_SEEK_ADD, = 0x00000010) \
XX(KEYCODE_OK, = 0x00000014) \
XX(KEYCODE_MOVE_LEFT, = 0x00000015) \
XX(KEYCODE_MOVE_RIGHT, = 0x00000016) \
XX(KEYCODE_MOVE_UP, = 0x00000017) \
XX(KEYCODE_MOVE_DOWN, = 0x00000018) \
XX(KEYCODE_MOVE_UP_LEFT, = 0x00000019) \
XX(KEYCODE_MOVE_UP_RIGHT, = 0x0000001A) \
XX(KEYCODE_MOVE_DOWN_LEFT, = 0x0000001B) \
XX(KEYCODE_MOVE_DOWN_RIGHT, = 0x0000001C) \
XX(KEYCODE_TEL, = 0x0000001D) \
XX(KEYCODE_MAIN, = 0x0000001E)\
XX(KEYCODE_MEDIA_START, = 0x0000001F) \
XX(KEYCODE_MEDIAL_STOP, = 0x00000020) \
XX(KEYCODE_VR_START, = 0x00000021) \
XX(KEYCODE_VR_STOP, = 0x00000022) \
XX(KEYCODE_NUMBER_0, = 0x00000023) \
XX(KEYCODE_NUMBER_1, = 0x00000024) \
XX(KEYCODE_NUMBER_2, = 0x00000025) \
XX(KEYCODE_NUMBER_3, = 0x00000026) \
XX(KEYCODE_NUMBER_4, = 0x00000027) \
XX(KEYCODE_NUMBER_5, = 0x00000028) \
XX(KEYCODE_NUMBER_6, = 0x00000029) \
XX(KEYCODE_NUMBER_7, = 0x0000002A) \
XX(KEYCODE_NUMBER_8, = 0x0000002B) \
XX(KEYCODE_NUMBER_9, = 0x0000002C) \
XX(KEYCODE_NUMBER_10, = 0x0000002D) \
XX(KEYCODE_NUMBER_11, = 0x0000002E) \
XX(KEYCODE_NUMBER_DEL, = 0x0000002F) \
XX(KEYCODE_NUMBER_CLEAR, = 0x00000030)
DECLARE_ENUM(EN_CLHardKeyCode_Type, _EN_CLHardKeyCode_Type)

/*
 手机和车机之间相互传递的控制消息* 
 **/
#define _EN_CLMsg_Type(XX)  \
XX(MSG_CMD_HU_PROTOCOL_VERSION, = 0x00018001) \
XX(MSG_CMD_PROTOCOL_VERSION_MATCH_STATUS, = 0x00010002) \
XX(MSG_CMD_HU_INFO, = 0x00018003) \
XX(MSG_CMD_MD_INFO, = 0x00010004) \
XX(MSG_CMD_HU_BT_OOB_INFO, = 0x00018005) \
XX(MSG_CMD_MD_BT_OOB_INFO, = 0x00010006) \
XX(MSG_CMD_VIDEO_ENCODER_INIT, = 0x00018007) \
XX(MSG_CMD_VIDEO_ENCODER_INIT_DONE, = 0x00010008) \
XX(MSG_CMD_VIDEO_ENCODER_START, = 0x00018009) \
XX(MSG_CMD_VIDEO_ENCODER_PAUSE, = 0x0001800A) \
XX(MSG_CMD_VIDEO_ENCODER_RESET, = 0x0001800B) \
XX(MSG_CMD_VIDEO_ENCODER_FRAME_RATE_CHANGE, = 0x0001800C) \
XX(MSG_CMD_VIDEO_ENCODER_FRAME_RATE_CHANGE_DONE, = 0x0001000D) \
XX(MSG_CMD_PAUSE_MEDIA, = 0x0001800E) \
XX(MSG_CMD_CAR_VELOCITY, = 0x0001800F) \
XX(MSG_CMD_CAR_GPS, = 0x00018010) \
XX(MSG_CMD_CAR_GYROSCOPE, = 0x00018011) \
XX(MSG_CMD_CAR_ACCELERATION, = 0x00018012) \
XX(MSG_CMD_CAR_OIL, = 0x00018013) \
XX(MSG_CMD_TELE_STATE_CHANGE_INCOMING, = 0x00010014) \
XX(MSG_CMD_TELE_STATE_CHANGE_OUTGOING, = 0x00010015) \
XX(MSG_CMD_TELE_STATE_CHANGE_IDLE, = 0x00010016) \
XX(MSG_CMD_TELE_STATE_CHANGE_INCALLING, = 0x00010017) \
XX(MSG_CMD_SCREEN_ON, = 0x00010018) \
XX(MSG_CMD_SCREEN_OFF, = 0x00010019) \
XX(MSG_CMD_SCREEN_USERPRESENT, = 0x0001001A) \
XX(MSG_CMD_FOREGROUND, = 0x0001001B) \
XX(MSG_CMD_BACKGROUND, = 0x0001001C) \
XX(MSG_CMD_MODULE_STATUS, = 0x00010026) \
XX(MSG_CMD_LAUNCH_MODE_NORMAL, = 0x0001801D) \
XX(MSG_CMD_LAUNCH_MODE_PHONE, = 0x0001801E) \
XX(MSG_CMD_LAUNCH_MODE_MAP, = 0x0001801F) \
XX(MSG_CMD_LAUNCH_MODE_MUSIC, = 0x00018020) \
XX(MSG_CMD_GO_TO_DESKTOP, = 0x00010021) \
XX(MSG_CMD_MIC_RECORD_WAKEUP_START, = 0x00010022) \
XX(MSG_CMD_MIC_RECORD_END, = 0x00010023) \
XX(MSG_CMD_MIC_RECORD_RECOG_START, = 0x00010024) \
XX(MSG_CMD_MEDIA_INFO, = 0x00010035) \
XX(MSG_CMD_GO_TO_FOREGROUND, = 0x00018025) \
XX(MSG_VIDEO_DATA, = 0x00020001) \
XX(MSG_VIDEO_HEARTBEAT, = 0x00020002) \
XX(MSG_MEDIA_INIT, = 0x00030001) \
XX(MSG_MEDIA_STOP, = 0x00030002) \
XX(MSG_MEDIA_PAUSE, = 0x00030003) \
XX(MSG_MEDIA_RESUME_PLAY, = 0x00030004) \
XX(MSG_MEDIA_SEEK_TO, = 0x00030005) \
XX(MSG_MEDIA_DATA, = 0x00030006) \
XX(MSG_TTS_INIT, = 0x00040001) \
XX(MSG_TTS_STOP, = 0x00040002) \
XX(MSG_TTS_DATA, = 0x00040003) \
XX(MSG_VR_DATA, = 0x00058001) \
XX(MSG_VR_AUDIO_INIT, = 0x00050002) \
XX(MSG_VR_AUDIO_DATA, = 0x00050003) \
XX(MSG_VR_AUDIO_STOP, = 0x00050004) \
XX(MSG_TOUCH_ACTION, = 0x00068001) \
XX(MSG_TOUCH_ACTION_DOWN, = 0x00068002) \
XX(MSG_TOUCH_ACTION_UP, = 0x00068003) \
XX(MSG_TOUCH_ACTION_MOVE, = 0x00068004) \
XX(MSG_TOUCH_SINGLE_CLICK, = 0x00068005) \
XX(MSG_TOUCH_DOUBLE_CLICK, = 0x00068006) \
XX(MSG_TOUCH_LONG_PRESS, = 0x00068007) \
XX(MSG_TOUCH_CAR_HARD_KEY_CODE, = 0x00068008) \
XX(MSG_TOUCH_UI_ACTION_SOUND, = 0x000680009) \
XX(MSG_TOUCH_UI_ACTION_BEGIN, = 0x0006800A) \
XX(MSG_SDK_AUDIO_LIST, = 0x00998001) \
XX(MSG_SDK_AUDIO_JUMP, = 0x00998002) \
XX(MSG_SDK_AUDIO_NORMAL, = 0x00998003) \
XX(MSG_CMD_TOUCH_HYUNDAI_KEYCODE_SEEK_UP, = 0x01018001) \
XX(MSG_CMD_TOUCH_HYUNDAI_KEYCODE_SEEK_DOWN, = 0x01018002) \
XX(MSG_CMD_STATISTIC_INFO, = 0x00018027) \
XX(MSG_CMD_MODULE_CONTROL, = 0x00018028) \
XX(MSG_CMD_BT_HFP_REQUEST, = 0x00010040) \
XX(MSG_CMD_BT_HFP_RESPONSE, = 0x0001804E)\
XX(MSG_CMD_BT_HFP_INDICATION, = 0x00018041) \
XX(MSG_CMD_BT_HFP_CONNECTION, = 0x00018042) \
XX(MSG_CMD_HU_AUTHEN_REQUEST, = 0x00018048) \
XX(MSG_CMD_MD_AUTHEN_RESPONSE, = 0x00010049) \
XX(MSG_CMD_HU_AUTHEN_RESULT, = 0x0001804A) \
XX(MSG_CMD_MD_AUTHEN_RESULT, = 0x0001004B) \
XX(MSG_CMD_MD_FEATURE_CONFIG_REQUEST, = 0x00010051) \
XX(MSG_CMD_HU_FEATURE_CONFIG_RESPONSE, = 0x00018052) \
XX(MSG_CMD_BT_START_IDENTIFY_REQ, = 0x00018053) \
XX(MSG_CMD_BT_IDENTIFY_RESULT_IND, = 0x00010054) \
XX(MSG_CMD_ERROR_CODE, = 0x00018055)
DECLARE_ENUM(EN_CLMsg_Type, _EN_CLMsg_Type)

#endif


